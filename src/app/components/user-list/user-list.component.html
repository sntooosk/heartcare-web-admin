<div class="bg-gray-800 p-4 w-64 flex flex-col">
  <div class="p-4 text-white font-bold text-lg border-b border-gray-700 mb-4">
    Usuários
  </div>

  <input
    type="text"
    [(ngModel)]="filterText"
    placeholder="Filtrar usuários"
    class="mb-4 p-2 rounded bg-gray-700 text-white placeholder-gray-400"
  />

  <div *ngIf="loading" class="flex flex-col space-y-4 mb-4">
    <app-user-loading *ngFor="let _ of skeletonLoading"></app-user-loading>
  </div>

  <div *ngIf="!loading" class="flex-1 overflow-y-auto">
    <div
      *ngFor="let user of filteredUserNames"
      class="flex items-center p-3 hover:bg-gray-700 rounded-md cursor-pointer transition-colors duration-150 mb-2"
      (click)="selectUser.emit(user)"
    >
      <ng-container *ngIf="getUserPhoto(user); else defaultIcon">
        <img
          [src]="getUserPhoto(user)"
          alt="Foto do usuário"
          class="w-10 h-10 rounded-full shadow-md"
        />
      </ng-container>
      <ng-template #defaultIcon>
        <mat-icon class="w-10 h-10 text-white">person</mat-icon>
      </ng-template>
      <span class="ml-4 text-white text-base font-medium">
        {{ user }}
      </span>
    </div>
  </div>
</div>
